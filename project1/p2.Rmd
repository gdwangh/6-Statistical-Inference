---
title: "the project 1 part 2"
author: "wangh"
date: "Saturday, August 16, 2014"
output: html_document
---
analyze the ToothGrowth data in the R datasets package

#### Load the ToothGrowth data
```{r,fig.height=3}
library(datasets)
data(ToothGrowth)
par(mfrow = c(1, 2))
boxplot(len~supp, data=ToothGrowth, main="boxplot(len~supp)")
boxplot(len~dose, data=ToothGrowth,main="boxplot(len~dose)")
```
```{r}
coplot(len~dose|supp,data=ToothGrowth, panel=panel.smooth,xlab="ToothGrowth data: length vs dose, given type of supplement")
```

#### compare tooth growth by supp
```{r}
diff=ToothGrowth[ToothGrowth$supp=="OJ","len"] - ToothGrowth[ToothGrowth$supp=="VC","len"]
mean(diff)
```
confidence interval and test the hypothesis: 
```{r}
alpha<-0.05; 
tt<-t.test(diff,conf.level=1-alpha); tt
```
Because t>0, confidence interval limits >0, H0:diff=0 versus Ha: diff>0
```{r}
qt(1-alpha,29)
```
So, we reject H0 because:

- 95% confidence interval not contains 0
- TS(t = `r tt$statistic`) > qt(1-alpha,`r tt$parameter`)( = `r qt(1-alpha,tt$parameter)`)
- p-value( = `r tt$p.value`) < alpha ( = `r alpha`)

##### conclusion: by 95% confidence interval, tooth growth by OJ is larger than by VC.

#### compare tooth growth by dose
```{r}
diff2=ToothGrowth$len/ToothGrowth$dose
mean(diff2)
```
test the hypothes is: H0:diff=17 versus Ha:diff<>17
```{r}
tt2<-t.test(diff2,mu=17); tt2
qt(1-alpha/2,59)
```
So, we fail to reject H0 because:

- 95% confidence interval contains 17
- TS(t = `r tt2$statistic`) < qt(1-alpha/2,`r tt2$parameter`)( = `r qt(1-alpha/2,tt2$parameter)`)
- p-value( = `r tt2$p.value`) > alpha ( = `r alpha`)

##### conclusion: by 95%, tooth growth for one unit dose is about 17.
